[gd_scene load_steps=30 format=3 uid="uid://clf1h56slh0fv"]

[ext_resource type="Texture2D" uid="uid://byuemfc5v4oe5" path="res://assets/joycie/joycie.png" id="2_4p7jk"]
[ext_resource type="Texture2D" uid="uid://3tbiiq22wvjd" path="res://assets/dave/standing.png" id="2_y4odb"]
[ext_resource type="PackedScene" uid="uid://bgshjng2ky6hg" path="res://scenes/bonus_chonki.tscn" id="3_k1xfh"]
[ext_resource type="Texture2D" uid="uid://dkkcuts87y084" path="res://assets/interactables/dog_bowl.png" id="4_hfuap"]
[ext_resource type="PackedScene" uid="uid://6q16boewrg0o" path="res://scenes/composable/trampoline.tscn" id="5_k1xfh"]
[ext_resource type="PackedScene" uid="uid://divvcbosmeqxn" path="res://scenes/SecretLetter.tscn" id="6_h0d21"]
[ext_resource type="PackedScene" path="res://scenes/HeartsOnlyHUD.tscn" id="6_hearts_hud"]
[ext_resource type="Script" uid="uid://ch2buyoohf8tx" path="res://scenes/jetpack.gd" id="7_c440y"]
[ext_resource type="Theme" uid="uid://dte5an7k6hog1" path="res://themes/base.tres" id="7_ik1mb"]
[ext_resource type="Texture2D" uid="uid://c2cq23vygq0pm" path="res://assets/corgi/jetpack.png" id="7_wjlw7"]
[ext_resource type="Texture2D" uid="uid://bpqdlmvtkr1i5" path="res://assets/environment/lake.png" id="8_monau"]
[ext_resource type="Texture2D" uid="uid://dyfm8vlrc33al" path="res://assets/interactables/jetpack_2.png" id="8_yj0e2"]
[ext_resource type="AudioStream" uid="uid://cfv8wvih0lw77" path="res://assets/sound/move_your_feet.mp3" id="10_4p7jk"]
[ext_resource type="PackedScene" uid="uid://b8r7yq33rcakh" path="res://scenes/composable/cloud.tscn" id="10_v8jj2"]
[ext_resource type="Texture2D" uid="uid://vnr587mqo4rx" path="res://assets/environment/cloud_spawn_03.png" id="11_u6kvj"]
[ext_resource type="Script" uid="uid://c0i6kbwmms5vg" path="res://scenes/score_ticker.gd" id="12_score"]
[ext_resource type="Texture2D" uid="uid://bb1vtwo26agug" path="res://assets/environment/cloud_spawn_02.png" id="12_v8jj2"]
[ext_resource type="FontFile" uid="uid://dlfbvpauldaco" path="res://fonts/Sniglet-Regular.ttf" id="13_font"]
[ext_resource type="Script" uid="uid://d0ape54ki5ul0" path="res://scenes/high_score_label.gd" id="13_highscore"]
[ext_resource type="Script" uid="uid://03ucyaq8uw0s" path="res://scenes/cloud_spawner.gd" id="14_cloud_spawner"]
[ext_resource type="Script" uid="uid://bjvbktoe3g4i7" path="res://scenes/goose_spawner.gd" id="15_goose_spawner"]
[ext_resource type="PackedScene" uid="uid://frs4em5ffbab" path="res://scenes/composable/bonus_goose.tscn" id="18_4wxfo"]

[sub_resource type="SpriteFrames" id="SpriteFrames_k1xfh"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_y4odb")
}],
"loop": false,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="SpriteFrames" id="SpriteFrames_piybw"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_4p7jk")
}],
"loop": true,
"name": &"new_animation",
"speed": 5.0
}]

[sub_resource type="SpriteFrames" id="SpriteFrames_b8nnx"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("8_yj0e2")
}, {
"duration": 1.0,
"texture": ExtResource("7_wjlw7")
}],
"loop": true,
"name": &"default",
"speed": 20.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_c440y"]
size = Vector2(1185, 1165)

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_3no7k"]

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_3hbtu"]

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_4p7jk"]

[node name="bonus" type="Node2D"]

[node name="Characters" type="Node" parent="."]

[node name="DaveSprite" type="AnimatedSprite2D" parent="Characters"]
z_index = 5
position = Vector2(15717.7, -130)
scale = Vector2(5.82152, 5.82152)
sprite_frames = SubResource("SpriteFrames_k1xfh")

[node name="JoycieSprite" type="AnimatedSprite2D" parent="Characters"]
z_index = 5
position = Vector2(10289.2, -155)
scale = Vector2(3.51849, 3.51849)
sprite_frames = SubResource("SpriteFrames_piybw")
animation = &"new_animation"
flip_h = true

[node name="BonusChonki" parent="Characters" instance=ExtResource("3_k1xfh")]
z_index = 3
position = Vector2(11722, 300)
scale = Vector2(1.6, 1.6)
jump_multiplier = 1.5
midair_jumps = 100
speed_multiplier = 2.0
jetpack_thrust_speed = -10000.0
initial_camera_zoom = Vector2(0.08, 0.08)

[node name="Items" type="Node" parent="."]

[node name="MagicTrampoline" parent="Items" instance=ExtResource("5_k1xfh")]
z_index = 5
position = Vector2(12988.7, 333)
scale = Vector2(0.23999, 0.23999)
jump_intensity = 2.0
trampoline_id = "magic_bowl"
custom_texture = ExtResource("4_hfuap")

[node name="SecretLetterT" parent="Items" instance=ExtResource("6_h0d21")]
z_index = 4
offset_left = 11990.0
offset_top = -24855.0
offset_right = 12054.0
offset_bottom = -24791.0
letter = "T"

[node name="SecretLetterH" parent="Items" instance=ExtResource("6_h0d21")]
z_index = 4
offset_left = 14264.0
offset_top = -31553.0
offset_right = 14328.0
offset_bottom = -31489.0
letter = "H"

[node name="SecretLetterA" parent="Items" instance=ExtResource("6_h0d21")]
z_index = 4
offset_left = 9443.0
offset_top = -38657.0
offset_right = 9507.0
offset_bottom = -38593.0

[node name="SecretLetterN" parent="Items" instance=ExtResource("6_h0d21")]
z_index = 4
offset_left = 14463.0
offset_top = -45388.0
offset_right = 14527.0
offset_bottom = -45324.0
letter = "N"

[node name="SecretLetterK" parent="Items" instance=ExtResource("6_h0d21")]
z_index = 4
offset_left = 9529.0
offset_top = -52183.0
offset_right = 9593.0
offset_bottom = -52119.0
letter = "K"

[node name="SecretLetterS" parent="Items" instance=ExtResource("6_h0d21")]
z_index = 4
offset_left = 14406.0
offset_top = -59304.0
offset_right = 14470.0
offset_bottom = -59240.0
letter = "S"

[node name="Jetpack" type="Area2D" parent="Items"]
z_index = 3
position = Vector2(13199, -3205)
scale = Vector2(0.675334, 0.675334)
script = ExtResource("7_c440y")
float_intensity = 100.0

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="Items/Jetpack"]
z_index = 1
scale = Vector2(3.32, 3.32)
sprite_frames = SubResource("SpriteFrames_b8nnx")
autoplay = "default"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Items/Jetpack"]
position = Vector2(9.5, -103.5)
shape = SubResource("RectangleShape2D_c440y")

[node name="CloudSpawner" type="Node2D" parent="." node_paths=PackedStringArray("chonki")]
script = ExtResource("14_cloud_spawner")
chonki = NodePath("../Characters/BonusChonki/ChonkiCharacter")

[node name="GooseSpawner" type="Node2D" parent="." node_paths=PackedStringArray("chonki")]
script = ExtResource("15_goose_spawner")
chonki = NodePath("../Characters/BonusChonki/ChonkiCharacter")

[node name="Environment" type="Node" parent="."]

[node name="Ground" type="StaticBody2D" parent="Environment"]
position = Vector2(15339.7, 0)

[node name="GroundSprite" type="Polygon2D" parent="Environment/Ground"]
z_index = 4
texture_repeat = 2
use_parent_material = true
position = Vector2(-13819, 1330)
scale = Vector2(1.46235, 1.60449)
texture = ExtResource("8_monau")
texture_offset = Vector2(0, 400)
polygon = PackedVector2Array(-7785.22, -373.951, 21291.3, -241.821, 21338.4, 602.06, -7730.51, 576.507)

[node name="Ocean" type="Polygon2D" parent="Environment/Ground"]
z_index = 4
texture_repeat = 2
use_parent_material = true
position = Vector2(-13819, 1992)
scale = Vector2(1.46235, 1.60449)
texture = ExtResource("8_monau")
texture_offset = Vector2(0, 400)
polygon = PackedVector2Array(-7835.14, 150.827, 21367.2, 120.287, 21338.4, 602.06, -7840.61, 612.032)

[node name="Ocean2" type="Polygon2D" parent="Environment/Ground"]
z_index = 4
texture_repeat = 2
use_parent_material = true
position = Vector2(-13819, 2723)
scale = Vector2(1.46235, 1.60449)
texture = ExtResource("8_monau")
texture_offset = Vector2(0, 400)
polygon = PackedVector2Array(-7835.14, 150.827, 21367.2, 120.287, 21338.4, 602.06, -7840.61, 612.032)

[node name="Ocean3" type="Polygon2D" parent="Environment/Ground"]
z_index = 4
texture_repeat = 2
use_parent_material = true
position = Vector2(-13819, 2683)
scale = Vector2(1.46235, 6.09869)
texture = ExtResource("8_monau")
texture_offset = Vector2(0, 400)
polygon = PackedVector2Array(-7835.14, 150.827, 21367.2, 120.287, 21338.4, 602.06, -7840.61, 612.032)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Environment/Ground"]
position = Vector2(0, 957)
shape = SubResource("WorldBoundaryShape2D_3no7k")

[node name="LeftWorldBoundary" type="StaticBody2D" parent="Environment"]
position = Vector2(6851, 0)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Environment/LeftWorldBoundary"]
rotation = 1.5708
shape = SubResource("WorldBoundaryShape2D_3hbtu")

[node name="RightWorldBoundary" type="StaticBody2D" parent="Environment"]
position = Vector2(19636, 0)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Environment/RightWorldBoundary"]
position = Vector2(2889, 0)
rotation = -1.5708
shape = SubResource("WorldBoundaryShape2D_4p7jk")

[node name="Clouds" type="Node" parent="Environment"]

[node name="Cloud1" parent="Environment/Clouds" instance=ExtResource("10_v8jj2")]
position = Vector2(8501, -11420)

[node name="Cloud2" type="Sprite2D" parent="Environment/Clouds"]
z_index = 4
position = Vector2(13263, -11420)
scale = Vector2(11.64, 11.64)
texture = ExtResource("11_u6kvj")

[node name="Cloud3" type="Sprite2D" parent="Environment/Clouds"]
z_index = 4
position = Vector2(19935, -11420)
scale = Vector2(11.64, 11.64)
texture = ExtResource("12_v8jj2")

[node name="Titles" type="Node" parent="."]

[node name="Label" type="Label" parent="Titles"]
z_index = 5
offset_left = 7780.0
offset_top = -6118.0
offset_right = 18731.0
offset_bottom = -3856.0
theme = ExtResource("7_ik1mb")
theme_override_colors/font_color = Color(1, 1, 0.0431373, 1)
theme_override_font_sizes/font_size = 1000
text = "BONUS ROUND"
horizontal_alignment = 1

[node name="Label2" type="Label" parent="Titles"]
z_index = 5
offset_left = 9201.0
offset_top = -9549.0
offset_right = 17259.0
offset_bottom = -3312.0
theme = ExtResource("7_ik1mb")
theme_override_colors/font_color = Color(1, 1, 1, 1)
theme_override_font_sizes/font_size = 400
text = "Thanks for playing! Enjoy this"
horizontal_alignment = 1
vertical_alignment = 1

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("10_4p7jk")

[node name="ScoreHUD" type="CanvasLayer" parent="." groups=["HUDControl"]]
layer = 11

[node name="Control" type="Control" parent="ScoreHUD"]
modulate = Color(1, 1, 1, 0)
layout_mode = 3
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
grow_horizontal = 0
mouse_filter = 2

[node name="MarginContainer" type="MarginContainer" parent="ScoreHUD/Control"]
layout_mode = 1
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -50.0
offset_top = 50.0
offset_right = -50.0
grow_horizontal = 0
theme_override_constants/margin_left = 25
theme_override_constants/margin_top = 25
theme_override_constants/margin_right = 25
theme_override_constants/margin_bottom = 25

[node name="VBoxContainer" type="VBoxContainer" parent="ScoreHUD/Control/MarginContainer"]
layout_mode = 2
theme_override_constants/separation = 5
alignment = 1

[node name="ScoreTitle" type="Label" parent="ScoreHUD/Control/MarginContainer/VBoxContainer"]
layout_mode = 2
theme_override_colors/font_color = Color(1, 1, 1, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 20
theme_override_fonts/font = ExtResource("13_font")
theme_override_font_sizes/font_size = 20
text = "Score"
horizontal_alignment = 2

[node name="ScoreValue" type="Label" parent="ScoreHUD/Control/MarginContainer/VBoxContainer" node_paths=PackedStringArray("chonki")]
layout_mode = 2
theme_override_colors/font_color = Color(1, 1, 1, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 20
theme_override_fonts/font = ExtResource("13_font")
theme_override_font_sizes/font_size = 75
text = "0"
horizontal_alignment = 2
script = ExtResource("12_score")
chonki = NodePath("../../../../../Characters/BonusChonki")

[node name="HighScoreHUD" type="CanvasLayer" parent="." groups=["HUDControl"]]
layer = 11

[node name="Control" type="Control" parent="HighScoreHUD"]
modulate = Color(1, 1, 1, 0)
layout_mode = 3
anchors_preset = 0
mouse_filter = 2

[node name="MarginContainer" type="MarginContainer" parent="HighScoreHUD/Control"]
layout_mode = 1
offset_left = 50.0
offset_top = 50.0
offset_right = 50.0
theme_override_constants/margin_left = 25
theme_override_constants/margin_top = 25
theme_override_constants/margin_right = 25
theme_override_constants/margin_bottom = 25

[node name="VBoxContainer" type="VBoxContainer" parent="HighScoreHUD/Control/MarginContainer"]
layout_mode = 2
theme_override_constants/separation = 5
alignment = 1

[node name="HighScoreTitle" type="Label" parent="HighScoreHUD/Control/MarginContainer/VBoxContainer"]
layout_mode = 2
theme_override_colors/font_color = Color(1, 1, 1, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 20
theme_override_fonts/font = ExtResource("13_font")
theme_override_font_sizes/font_size = 20
text = "High Score"

[node name="HighScoreValue" type="Label" parent="HighScoreHUD/Control/MarginContainer/VBoxContainer"]
layout_mode = 2
theme_override_colors/font_color = Color(1, 1, 1, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 20
theme_override_fonts/font = ExtResource("13_font")
theme_override_font_sizes/font_size = 75
text = "0"
script = ExtResource("13_highscore")

[node name="HeartsHUD" parent="." instance=ExtResource("6_hearts_hud")]

[node name="Obstacles" type="Node" parent="."]

[node name="BonusGoose" parent="Obstacles" instance=ExtResource("18_4wxfo")]
position = Vector2(12705, 6989)

[connection signal="body_entered" from="Items/Jetpack" to="Characters/BonusChonki" method="_on_jetpack_body_entered"]
[connection signal="body_entered" from="Items/Jetpack" to="Items/Jetpack" method="_on_body_entered"]
